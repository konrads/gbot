{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "network": {"type": "string", "enum": ["testnet", "mainnet"]},
    "endpoint": {"type": "string"},
    "refExchange": {"type": "string"},
    "mockParams": {"$ref": "#/definitions/MockParams"},
    "lockingIntervalMs": {"type": "integer", "minimum": 0},
    "markPriceStaleIntervalMs": {"type": "integer", "minimum": 0},
    "webServerPort": {"type": "integer"},
    "notifications": {"$ref": "#/definitions/NotificationDetails"},
    "symbolMappings": {
      "type": "array",
      "items": [{"$ref": "#/definitions/SymbolMapping"}]
    },
    "monitoredTrader": {"type": "string"}
  },
  "required": ["network", "endpoint", "refExchange", "lockingIntervalMs", "markPriceStaleIntervalMs", "symbolMappings", "monitoredTrader"],
  "definitions": {
    "NotificationDetails": {
      "type": "object",
      "properties": {
        "telegramToken": {"type": "string"},
        "telegramChatId": {"type": "string"}
      },
      "additionalProperties": false,
      "required": ["telegramToken", "telegramChatId"]
    },
    "SymbolMapping": {
      "type": "object",
      "properties": {
        "symbol": {"type": "string"},
        "cashAmount": {"type": "number", "minimum": 0},
        "leverage": {"type": "number", "minimum": 0}
      },
      "required": ["symbol", "cashAmount", "leverage"]
    },
    "MockParams": {
      "type": "object",
      "properties": {
        "bogusTrader": {"type": "string"}
      },
      "required": ["bogusTrader"]
    }
  }
}